<!doctype html>
<html lang="ru">
<head>
	<meta charset="utf-8">
	<title>GreenGrassAPI Whirlpool Playground</title>
	<link rel="stylesheet" href="playground.css">
</head>
<body>
<main>
	<h1 title="Powered by GreenGrassAPI by Yxinity Group">GreenGrassAPI Whirlpool API Playground<sup>обновлено 11.12.2018 18:23</sup></h1>
	<div>
		<h2>Whirlpool</h2>
		<table>
			<tr>
				<td>
					<h3>Описание</h3>
					Вычисление Whirlpool хеша от строки
					<h3>Метод</h3>
					POST
					<h3>Адрес</h3>
					https://passport.bcs.ru/core/api/whirlpool
					<h3>Входные параметры</h3>
					text<br>
					<small>Текст. Строка, обязательный параметр.</small>
					<h3>Тип ответа</h3>
					JSON
					<p>
						<b>Ответ в&nbsp;случае успеха</b><br>
<pre>
{
	"status": 1,
	"hash": "<em>Вычисленный хеш, 128 байт</em>",
	"message": "Хеш успешно вычислен!"
}
</pre>
					</p>
					<p>
						<b>Ответ в&nbsp;случае ошибки</b><br>
<pre>
{
	"status": <em>x</em>, <em>// x > 1</em>
	"message": "<em>описание ошибки</em>"
}
</pre>
					</p>
				</td>
				<td>
					<h3>Форма</h3>
					<form action="javascript:;" method="post">
						<input type="text" name="text" data-gen="Привет, Мир!" placeholder="text">
						<a class="js-gen" href="javascript:;">Сгенерировать значения</a>
						<button type="submit">Отправить</button>
					</form>
				</td>
				<td>
					<h3>Ответ</h3>
					<textarea rows="7" readonly="readonly" placeholder="Здесь будет ответ вызова API"></textarea>
				</td>
			</tr>
		</table>
	</div>
</main>
<script src="jquery.min.js"></script>
<script>
	$(function() {
		$('.js-gen').click(
			function () {
				$('input').each(
					function () {
						var t = $(this);
						t.val(t.data('gen'));
					}
				);
				return !1;
			}
		);
		var buzy = !1;
		var textarea = $('textarea');
		$('form').submit(
			function() {
				if (buzy) return !1;
				textarea.val('Запрос к API...');
				buzy = !0;
				$.post(
					'https://passport.bcs.ru/core/api/whirlpool',
					{
						text: $('[name="text"]').val()
					},
					function (json) {
						textarea.val(JSON.stringify(json, undefined, 4));
						buzy = !1;
					}
				)
				.fail(
					function () {
						textarea.val('Ошибка при отправке запроса к API...');
						buzy = !1;
					}
				);
				return !1;
			}
		);
	});
</script>
</body>
</html>
